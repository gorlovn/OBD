#:import la kivy.adapters.listadapter
#:import ok __main__

OBDRoot:

<OBDRoot>:
    OBDDetailsForm:

<OBDDetailsForm>:
    anchor_x: "center"
    anchor_y: "center"
    Button:
        size_hint_y: None
        height: "40dp"
        size_hint_x: None
        width: "100dp"
        text: "Connect"
        on_press: root.connect()

<ItemListItem>:
    size_hint_y: None
    height: "35dp"
    canvas.before:
        Color:
            rgba: self.background
        Rectangle:
            pos: self.pos
            size: self.size    
            
    Label:
        text: root.item_name
    Label:
        text: root.item_value
            
<ItemList>:
    list_view: list_view
    button: button
    r_interval: r_interval
    orientation: "vertical"
    ListView:
        id: list_view
        adapter: la.ListAdapter(data=[], cls=ok.ItemListItem, args_converter=root.obd_converter)
    GridLayout:
        pos_hint: {'center_x': .5}
        size_hint_x: None
        width: "275dp"
        size_hint_y: None
        height: "55dp"
        cols: 3
        rows: 1
        row_default_height: "30dp"
        row_force_default: True
        spacing: "10dp"
        padding: "10dp"
        canvas:
            Color:
                rgba: .1, .3, .1, .51
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            size_hint_x: None
            width: "110dp"
            text: "Refresh Interval:"
        TextInput:
            size_hint_x: None
            width: "50dp"
            id: r_interval
        Button:
            size_hint_x: None
            width: "75dp"
            id: button
            size_hint_y: None
            text: "Refresh"
            on_press: root.set_r_interval()
