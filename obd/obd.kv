#:import la kivy.adapters.listadapter
#:import ok main

OBDRoot:

<OBDRoot>:
    OBDDetailsForm:

<OBDDetailsForm>:
    ri_box: r_interval
    anchor_x: "center"
    anchor_y: "center"

    BoxLayout:
        orientation: "vertical"
        size_hint_y: None
        height: "250dp"
        size_hint_x: None
        width: "250dp"
        Label:
            text: "Refresh Interval:"
            bold: True
            size_hint_y: None
            height: "30dp"
            size_hint_x: None
            width: "250dp"
            color: 1,0,1,1
            canvas.before:
                Color:
                    rgba: 0, 0, 1, .51
                Rectangle:
                    pos: self.pos
                    size: self.size        
        TextInput:
            id: r_interval
            text: "1.0"
            font_size: "55dp"
            size_hint_y: None
            height: "70dp"
            size_hint_x: None
            width: "250dp"
        Button:
            font_size: "55dp"
            bold: True
            size_hint_y: None
            height: "85dp"
            size_hint_x: None
            width: "250dp"
            text: "Connect"
            on_press: root.connect()

<ItemListItem>:
    orientation: "vertical"
    size_hint_y: None
    height: "250dp"
    size_hint_x: None
    width: "250dp"
    canvas.before:
        Color:
            rgba: self.background
        Rectangle:
            pos: self.pos
            size: self.size    
            
    Label:
        text: root.item_value
        font_size: "55dp"
        bold: True
        size_hint_y: None
        height: "220dp"
        size_hint_x: None
        width: "250dp"
    Label:
        text: root.item_name
        bold: True
        size_hint_y: None
        height: "30dp"
        size_hint_x: None
        width: "250dp"
        color: 1,0,1,1
        canvas.before:
            Color:
                rgba: 0, 0, 1, .51
            Rectangle:
                pos: self.pos
                size: self.size        
            
<ItemList>:
    list_view: list_view
    orientation: "vertical"
    ListView:
        pos_hint: {'center_x': .5}
        id: list_view
        adapter: la.ListAdapter(data=[], cls=ok.ItemListItem, args_converter=root.obd_converter)
        size_hint_x: None
        width: "250dp"
